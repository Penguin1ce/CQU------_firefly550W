clc;clear;
G = 1;        
m1 = 0.3;     
m2 = 0.03;    
m3 = 0.03;    
odefun = @(t, Y) [
    Y(3); % x1' = vx1
    Y(4); % y1' = vy1
    Y(7); % x2' = vx2
    Y(8); % y2' = vy2
    Y(11); % x3' = vx3
    Y(12); % y3' = vy3
    -G * m2 * (Y(1) - Y(5)) / ((Y(1) - Y(5))^2 + (Y(2) - Y(6))^2)^1.5 - G * m3 * (Y(1) - Y(9)) / ((Y(1) - Y(9))^2 + (Y(2) - Y(10))^2)^1.5; % vx1'
    -G * m2 * (Y(2) - Y(6)) / ((Y(1) - Y(5))^2 + (Y(2) - Y(6))^2)^1.5 - G * m3 * (Y(2) - Y(10)) / ((Y(1) - Y(9))^2 + (Y(2) - Y(10))^2)^1.5; % vy1'
    -G * m1 * (Y(1) - Y(5)) / ((Y(1) - Y(5))^2 + (Y(2) - Y(6))^2)^1.5 - G * m3 * (Y(5) - Y(9)) / ((Y(5) - Y(9))^2 + (Y(6) - Y(10))^2)^1.5;  % vx2'
    -G * m1 * (Y(2) - Y(6)) / ((Y(1) - Y(5))^2 + (Y(2) - Y(6))^2)^1.5 - G * m3 * (Y(6) - Y(10)) / ((Y(5) - Y(9))^2 + (Y(6) - Y(10))^2)^1.5; % vy2'
    -G * m1 * (Y(1) - Y(9)) / ((Y(1) - Y(9))^2 + (Y(2) - Y(10))^2)^1.5 - G * m2 * (Y(5) - Y(9)) / ((Y(5) - Y(9))^2 + (Y(6) - Y(10))^2)^1.5; % vx3'
    -G * m1 * (Y(2) - Y(10)) / ((Y(1) - Y(9))^2 + (Y(2) - Y(10))^2)^1.5 - G * m2 * (Y(6) - Y(10)) / ((Y(5) - Y(9))^2 + (Y(6) - Y(10))^2)^1.5; % vy3'
];
tspan = [0 10];
y0 = [2; 2; 0; 0; -2; -2; 0.2; -0.2; 0; 0; -0.2; 0.2];
[t, Y] = ode45(odefun, tspan, y0);
plot(Y(:,1), Y(:,2), 'b', 'LineWidth', 2);  % 物体1轨迹
hold on;
plot(Y(:,5), Y(:,6), 'r', 'LineWidth', 2);  % 物体2轨迹
plot(Y(:,9), Y(:,10), 'g', 'LineWidth', 2); % 物体3轨迹
xlabel('x');
ylabel('y');
legend('m1', 'm2', 'm3');
grid on;
axis equal;
hold off

y02 = [2; 2; 0; 0; -2; -2; 0.20001; -0.2; 0; 0; -0.2; 0.2];
[t, Y2] = ode45(odefun, tspan, y02);
delta2 = Y(:,2) - Y2(:,2);
